# UNO(乌有)
这是为推荐系统服务的表达式引擎，主要分为三个部分：
1. js是表达式的解析及优化
2. cpp是表达式引擎的计算
3. go是对外使用的库的封装

## 为什么需要表达式引擎？
在实际业务中，我们发现多个场景会出现条件过滤的情形，比如: 
在生成内容池的时候，需要按照某些条件把内容池过滤出来；在召回的时候，需要做条件过滤；等等
因此我们想抽象出来一个表达式引擎，高效的进行处理。


## js
这里主要是将字符串解析成ast，一方面包括语法解析部分，这个是利用antlr来实现的。另外的方面是对ast的优化，主要包括：
1. 取非下推
2. 常量折叠与传播
3. 剪枝
   1. 与操作中，只要一个节点是false，则返回false
   2. 或操作中，只要一个节点是true，则返回true


## go&cpp
这里主要是表达式的计算，利用js把ast转化成node array，然后顺序执行node的相关操作，而不是采用树的结构进行递归计算。